#!/usr/bin/env bash
# Display 256 color test for terminal

# Print color number with foreground color
print_fg() {
  local color=$1
  printf "\e[38;5;%sm%3d\e[0m " "$color" "$color"
}

# Print color number with background color
print_bg() {
  local color=$1
  printf "\e[48;5;%sm%3d\e[0m " "$color" "$color"
}

echo "256 Color Foreground Test:"
echo "=========================="
echo

# Standard colors (0-15)
echo "Standard colors (0-15):"
for i in {0..15}; do
  print_fg "$i"
  if [ $(( (i + 1) % 8 )) -eq 0 ]; then
    echo
  fi
done
echo

# 216 colors (16-231)
echo "216 color cube (16-231):"
for i in {16..231}; do
  print_fg "$i"
  if [ $(( (i - 16 + 1) % 6 )) -eq 0 ]; then
    echo
    if [ $(( (i - 16 + 1) % 36 )) -eq 0 ]; then
      echo
    fi
  fi
done

# Grayscale (232-255)
echo "Grayscale (232-255):"
for i in {232..255}; do
  print_fg "$i"
  if [ $(( (i - 232 + 1) % 12 )) -eq 0 ]; then
    echo
  fi
done
echo

echo
echo "256 Color Background Test:"
echo "=========================="
echo

# Standard colors (0-15)
echo "Standard colors (0-15):"
for i in {0..15}; do
  print_bg "$i"
  if [ $(( (i + 1) % 8 )) -eq 0 ]; then
    echo
  fi
done
echo

# 216 colors (16-231)
echo "216 color cube (16-231):"
for i in {16..231}; do
  print_bg "$i"
  if [ $(( (i - 16 + 1) % 6 )) -eq 0 ]; then
    echo
    if [ $(( (i - 16 + 1) % 36 )) -eq 0 ]; then
      echo
    fi
  fi
done

# Grayscale (232-255)
echo "Grayscale (232-255):"
for i in {232..255}; do
  print_bg "$i"
  if [ $(( (i - 232 + 1) % 12 )) -eq 0 ]; then
    echo
  fi
done
echo
